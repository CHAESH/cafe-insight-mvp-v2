# ì¹´í˜ì¸ì‚¬ì´íŠ¸ (CafeInsight) - AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ ê°œë°œ ê°€ì´ë“œ

## ğŸ¯ í”„ë¡œì íŠ¸ ë¯¸ì…˜
**"5ë¶„ ê³„ì‚°, í‰ìƒ ì ˆì•½ - AIê°€ ì°¾ì•„ì£¼ëŠ” ìˆ¨ì€ ìˆ˜ìµ ê¸°íšŒ"**

ì¹´í˜ì¸ì‚¬ì´íŠ¸ëŠ” AI ê¸°ë°˜ ì¹´í˜ ì›ê°€ê³„ì‚° & ìŠ¤ë§ˆíŠ¸ ì¸ì‚¬ì´íŠ¸ SaaSì…ë‹ˆë‹¤. 
ê¸°ìˆ  ì¹œí™”ì ì¸ 20-40ëŒ€ ì¹´í˜ ì‚¬ì¥ë‹˜ë“¤ì´ ì›”í‰ê·  50ë§Œì› ì´ìƒ ì ˆê°í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

## ğŸ¤– ë‚˜ì˜ ì—­í•  ë° í•µì‹¬ ì§€ì¹¨
ì €ì˜ ìµœìš°ì„  ëª©í‘œëŠ” `docs/PRD.md`ì— ëª…ì‹œëœ ëŒ€ë¡œ 'ì¹´í˜ì¸ì‚¬ì´íŠ¸' MVPë¥¼ 4ì£¼ ì•ˆì— ì„±ê³µì ìœ¼ë¡œ ê°œë°œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒ ì›ì¹™ì„ ë°˜ë“œì‹œ ì¤€ìˆ˜í•©ë‹ˆë‹¤.

1.  **ë¬¸ì„œ ìš°ì„ ì£¼ì˜**: ì´ `CLAUDE.md` ë¬¸ì„œë¥¼ í¬í•¨í•œ ëª¨ë“  `docs/` í´ë”ì˜ ë‚´ìš©ì„ ìµœìš°ì„ ìœ¼ë¡œ ë”°ë¦…ë‹ˆë‹¤.
2.  **ì§ˆë¬¸ ìš°ì„ ì£¼ì˜**: ë¶ˆí™•ì‹¤í•œ ë¶€ë¶„ì´ ìˆë‹¤ë©´, ì ˆëŒ€ ì¶”ì¸¡í•˜ì§€ ì•Šê³  ë°˜ë“œì‹œ ë‹¹ì‹ ì—ê²Œ ì§ˆë¬¸í•˜ì—¬ í™•ì¸ë°›ê² ìŠµë‹ˆë‹¤.
3.  **ë³´ì•ˆ ìµœìš°ì„ **: ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ìƒí˜¸ì‘ìš©ì—ì„œ Supabaseì˜ Row Level Security (RLS) ì •ì±…ì„ ì‹ ë¢°í•˜ê³ , ì´ë¥¼ ìœ„ë°˜í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
4.  **ì¼ê´€ì„± ìœ ì§€**: í”„ë¡œì íŠ¸ì˜ ê¸°ì¡´ ì½”ë“œ ìŠ¤íƒ€ì¼, ë„¤ì´ë° ì»¨ë²¤ì…˜, ì•„í‚¤í…ì²˜ë¥¼ ì² ì €íˆ ë”°ë¦…ë‹ˆë‹¤.
5.  **í•œêµ­ì–´ ì‚¬ìš©**: ë‹¹ì‹ ê³¼ì˜ ëª¨ë“  ì†Œí†µê³¼ ì½”ë“œ ë‚´ ì£¼ì„ì€ í•œêµ­ì–´ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

## ğŸ“‹ í•µì‹¬ ì»¨í…ìŠ¤íŠ¸ ë¬¸ì„œ
**ê°œë°œ ì „ í•„ìˆ˜ ì°¸ê³  ë¬¸ì„œë“¤:**
- `docs/PRD.md` - ì œí’ˆ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ v1.0 (4ì£¼ MVP ê³„íš)
- `docs/DB ìŠ¤í‚¤ë§ˆ.md` - ì™„ì „í•œ ERD ë° ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„
- `INITIAL.md` - ì¹´í˜ì¸ì‚¬ì´íŠ¸ ê¸°ëŠ¥ ìš”ì²­ í…œí”Œë¦¿ (ì™„ì„±ë³¸)
- `examples/` - ì½”ë“œ ì‘ì„± íŒ¨í„´ ë° ì˜ˆì‹œ

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (AI-First ì•„í‚¤í…ì²˜)
- **Frontend**: React Router v7 + Vite + TypeScript + TailwindCSS
- **Backend**: Supabase (PostgreSQL + Auth + RLS + CRON)
- **AI í†µí•©**: Vercel AI SDK + GPT-4o-mini (OpenAI API)
- **ê²°ì œ**: í† ìŠ¤í˜ì´ë¨¼ì¸  ì •ê¸°ê²°ì œ API
- **ì´ë©”ì¼**: Resend (ì˜ìˆ˜ì¦, ì•Œë¦¼)
- **ë°°í¬**: Vercel Edge Runtime
- **ëª¨ë‹ˆí„°ë§**: Sentry (ì—ëŸ¬ ì¶”ì )
- **í…ŒìŠ¤íŒ…**: Playwright (E2E)

## ğŸ“ ì¹´í˜ì¸ì‚¬ì´íŠ¸ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
cafe-insight-mvp-v2/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/                      # í•µì‹¬ ê³µí†µ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ components/            # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/               # shadcn/ui ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ layouts/          # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ hooks/                # ê³µí†µ ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ lib/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”‚   â”œâ”€â”€ ai-client.ts      # Vercel AI SDK í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ guards.server.ts  # ì¸ì¦ ê°€ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts          # í—¬í¼ í•¨ìˆ˜
â”‚   â”‚   â””â”€â”€ db/                   # ë°ì´í„°ë² ì´ìŠ¤
â”‚   â”‚       â”œâ”€â”€ schema.ts         # Drizzle ORM ìŠ¤í‚¤ë§ˆ
â”‚   â”‚       â””â”€â”€ drizzle-client.server.ts
â”‚   â”œâ”€â”€ features/                 # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ auth/                 # ì¸ì¦ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ calculations/         # ì›ê°€ê³„ì‚° ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ insights/             # AI ì¸ì‚¬ì´íŠ¸ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ payments/             # ê²°ì œ ê¸°ëŠ¥
â”‚   â”‚   â””â”€â”€ dashboard/            # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ routes/                   # React Router v7 ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ _index.tsx           # ëœë”© í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ dashboard.tsx        # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â””â”€â”€ calculations/        # ê³„ì‚° ê´€ë ¨ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ styles/                   # ìŠ¤íƒ€ì¼ íŒŒì¼
â”‚   â”‚   â””â”€â”€ tailwind.css         # Tailwind ì„¤ì •
â”‚   â””â”€â”€ root.tsx                 # ì•± ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ public/                       # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ manifest.json            # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”‚   â””â”€â”€ sw.js                    # Service Worker
â”œâ”€â”€ docs/                        # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ PRD.md                   # ì œí’ˆ ìš”êµ¬ì‚¬í•­
â”‚   â””â”€â”€ DB ìŠ¤í‚¤ë§ˆ.md             # ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„
â”œâ”€â”€ examples/                    # ì½”ë“œ ì˜ˆì‹œ
â”œâ”€â”€ e2e/                        # E2E í…ŒìŠ¤íŠ¸
â””â”€â”€ package.json                # í”„ë¡œì íŠ¸ ì„¤ì •
```

## ğŸ“– ìì£¼ ë¬»ëŠ” ì‘ì—…ë³„ ìˆ˜í–‰ ë©”ë‰´ì–¼

### "ìƒˆë¡œìš´ UI ì»´í¬ë„ŒíŠ¸ ì¶”ê°€" ìš”ì²­ ì‹œ:
1.  **ìœ„ì¹˜ ì„ ì •**:
    -   **ê³µìš© ì»´í¬ë„ŒíŠ¸**: `app/core/components/ui/` ì— ìƒì„±í•©ë‹ˆë‹¤.
    -   **íŠ¹ì • ê¸°ëŠ¥ ì „ìš©**: `app/features/[ê¸°ëŠ¥ëª…]/components/` ì— ìƒì„±í•©ë‹ˆë‹¤.
2.  **ìŠ¤íƒ€ì¼ ì ìš©**:
    -   `shadcn/ui`ì™€ `TailwindCSS`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    -   `app/core/components/ui/button.tsx` ì™€ ê°™ì€ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤íƒ€ì¼ê³¼ êµ¬ì¡°ë¥¼ ì°¸ê³ í•˜ì—¬ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
3.  **ë°ì´í„° ë¡œì§ ë¶„ë¦¬**:
    -   ì»´í¬ë„ŒíŠ¸ê°€ ë°ì´í„°ë¥¼ í•„ìš”ë¡œ í•  ê²½ìš°, `use-[ê¸°ëŠ¥ëª…]` í˜•íƒœì˜ ì»¤ìŠ¤í…€ í›…ì„ `app/core/hooks/` ë˜ëŠ” `app/features/[ê¸°ëŠ¥ëª…]/hooks/` ì— ë§Œë“¤ì–´ ë¡œì§ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.

### "ìƒˆë¡œìš´ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€" ìš”ì²­ ì‹œ:
1.  **ìœ„ì¹˜ ì„ ì •**:
    -   React Router v7ì˜ `action` (ë°ì´í„° ë³€ê²½) ë˜ëŠ” `loader` (ë°ì´í„° ì¡°íšŒ) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
    -   í•´ë‹¹ ê¸°ëŠ¥ì˜ ìŠ¤í¬ë¦° íŒŒì¼ (`app/features/[ê¸°ëŠ¥ëª…]/screens/[ìŠ¤í¬ë¦°ëª…].tsx`) ë‚´ì— ì§ì ‘ ì‘ì„±í•©ë‹ˆë‹¤.
2.  **ì‚¬ìš©ì ì¸ì¦**:
    -   ëª¨ë“  `action`ê³¼ `loader` í•¨ìˆ˜ì˜ ì‹œì‘ ë¶€ë¶„ì—ì„œ `await requireUser(request)`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í–ˆëŠ”ì§€ ë°˜ë“œì‹œ í™•ì¸í•©ë‹ˆë‹¤. (`app/core/lib/guards.server.ts` ì°¸ê³ )
3.  **ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼**:
    -   `createDrizzleClient(request)`ë¥¼ ì‚¬ìš©í•˜ì—¬ Drizzle í´ë¼ì´ì–¸íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    -   `docs/DB ìŠ¤í‚¤ë§ˆ.md`ì— ì •ì˜ëœ RLS ì •ì±…ì„ ì‹ ë¢°í•˜ê³ , í•´ë‹¹ ì •ì±…ì— ë§ê²Œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

### "AI ê¸°ëŠ¥ êµ¬í˜„" ìš”ì²­ ì‹œ:
1.  **API í˜¸ì¶œ**: Vercel AI SDK (`generateText`)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. (`app/core/lib/ai-client.ts` ì°¸ê³ )
2.  **ìºì‹± êµ¬í˜„**:
    -   `ai_cost_tips` í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ 24ì‹œê°„ ìºì‹œë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
    -   AI APIë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì—, `calculation_id`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìºì‹œëœ ë°ì´í„°ê°€ ìˆëŠ”ì§€ í•­ìƒ ë¨¼ì € í™•ì¸í•©ë‹ˆë‹¤.
3.  **ì‹¤íŒ¨ ëŒ€ì‘ (Fallback)**:
    -   `try...catch` ë¸”ë¡ì„ ì‚¬ìš©í•˜ì—¬ AI API í˜¸ì¶œ ì‹¤íŒ¨ì— ë°˜ë“œì‹œ ëŒ€ë¹„í•©ë‹ˆë‹¤.
    -   ì‹¤íŒ¨ ì‹œ, ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆëŠ” ì•ˆì „í•œ ê¸°ë³¸ ë©”ì‹œì§€(ì˜ˆ: "í˜„ì¬ AI ë¶„ì„ì´ ì–´ë µìŠµë‹ˆë‹¤.")ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì•„ë˜ì˜ ì½”ë“œ íŒ¨í„´ì„ ì°¸ê³ í•©ë‹ˆë‹¤.

## ğŸ’» ì¹´í˜ì¸ì‚¬ì´íŠ¸ ì½”ë”© ì»¨ë²¤ì…˜ (ìƒì„¸)

### âœ… DB ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ íƒ€ì… ì •ì˜
```typescript
// docs/DB ìŠ¤í‚¤ë§ˆ.md ì˜ 'calculations' í…Œì´ë¸”ê³¼ ì¼ì¹˜í•˜ëŠ” íƒ€ì…
interface MenuCalculation {
  id: string; // uuid
  user_id: string; // uuid
  menu_name: string;
  menu_category: 'coffee' | 'beverage' | 'dessert' | 'food' | 'other';
  selling_price: number;
  total_cost: number;
  profit_margin: number;
  created_at: string; // timestamp
}

// 'calculation_ingredients' í…Œì´ë¸”ê³¼ ì¼ì¹˜í•˜ëŠ” íƒ€ì…
interface CalculationIngredient {
  ingredient_id?: string; // uuid
  custom_ingredient_name?: string;
  quantity: number;
  unit: string;
  unit_price: number;
}
```

### ğŸ¤– AI ê¸°ëŠ¥ êµ¬í˜„ íŒ¨í„´ (ìƒì„¸)
```typescript
// AI íŒ ìƒì„± - ìºì‹±, ì‚¬ìš©ëŸ‰ ì²´í¬, í´ë°± í¬í•¨
import { db } from '~/core/db/drizzle-client.server';
import { aiCostTips, users } from '~/core/db/schema';
import { and, eq, gte } from 'drizzle-orm';

export async function getOrCreateCostSavingTips(calculation: MenuCalculation) {
  // 1. ìºì‹œ í™•ì¸ (24ì‹œê°„ ìœ íš¨)
  const cached = await db.query.aiCostTips.findFirst({
    where: and(
      eq(aiCostTips.calculation_id, calculation.id),
      gte(aiCostTips.expires_at, new Date())
    )
  });
  if (cached) {
    return { tips: cached.cost_saving_tip, generated: false, fromCache: true };
  }

  // 2. ì‚¬ìš©ì AI ì‚¬ìš©ëŸ‰ ì²´í¬ (êµ¬í˜„ í•„ìš”)
  const user = await db.query.users.findFirst({ where: eq(users.id, calculation.user_id) });
  if (user?.ai_calls_this_month >= user?.monthly_ai_limit) {
    throw new Error("AI ì‚¬ìš© í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.");
  }

  try {
    // 3. AI API í˜¸ì¶œ (Vercel AI SDK)
    const { text } = await generateText({
      model: openai('gpt-4o-mini'),
      prompt: createCostSavingPrompt(calculation), // PRD ê¸°ë°˜ í”„ë¡¬í”„íŠ¸
      maxTokens: 200
    });
    
    // 4. ê²°ê³¼ ìºì‹± ë° ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸
    await db.insert(aiCostTips).values({
      calculation_id: calculation.id,
      cost_saving_tip: text,
      // ... ê¸°íƒ€ ai_cost_tips í•„ë“œ
    });
    await db.update(users).set({ ai_calls_this_month: (user?.ai_calls_this_month ?? 0) + 1 }).where(eq(users.id, calculation.user_id));
    
    return { tips: text, generated: true, fromCache: false };
  } catch (error) {
    // 5. í´ë°± ë©”ì‹œì§€ (AI ì‹¤íŒ¨ ì‹œ)
    return {
      tips: `ë§ˆì§„ìœ¨ ${calculation.profit_margin}%ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì ì • ìˆ˜ì¤€ì…ë‹ˆë‹¤.`,
      generated: false,
      fromCache: false
    };
  }
}
```

### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ íŒ¨í„´ (Drizzle ORM)
```typescript
// RLS ì •ì±…ì„ ì‹ ë¢°í•˜ê³ , í˜„ì¬ ì‚¬ìš©ìì˜ ë°ì´í„°ë§Œ ì¡°íšŒ
import { db } from '~/core/db/drizzle-client.server';
import { calculations } from '~/core/db/schema';
import { eq, desc } from 'drizzle-orm';

export async function getUserCalculations(userId: string) {
  // RLSê°€ user_idë¥¼ í•„í„°ë§í•´ì£¼ë¯€ë¡œ, ì½”ë“œì—ì„œëŠ” ì •ë ¬ê³¼ ê°™ì€ ë¡œì§ì— ì§‘ì¤‘
  const result = await db.query.calculations.findMany({
    where: eq(calculations.user_id, userId), // RLSê°€ ìˆì§€ë§Œ, ëª…ì‹œì ìœ¼ë¡œ í•œë²ˆ ë” í™•ì¸
    orderBy: [desc(calculations.created_at)],
    with: {
      calculation_ingredients: {
        with: {
          ingredient: true // ingredients í…Œì´ë¸” ì •ë³´ ì¡°ì¸
        }
      },
      ai_cost_tips: {
        columns: {
          cost_saving_tip: true,
          expected_monthly_saving: true
        }
      }
    }
  });
  return result;
}
```

## ë³´ì•ˆ ë° ì¸ì¦
- Supabase Row Level Security (RLS) ì •ì±… í•„ìˆ˜ ì ìš© (`docs/DB ìŠ¤í‚¤ë§ˆ.md` ì°¸ê³ )
- í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë¯¼ê°í•œ ë°ì´í„° ì²˜ë¦¬ ê¸ˆì§€. ëª¨ë“  ë¡œì§ì€ React Router v7 `loader`ì™€ `action`ì—ì„œ ì²˜ë¦¬
- ëª¨ë“  API ë¼ìš°íŠ¸(loader/action)ì—ì„œ `requireUser(request)`ë¡œ ì¸ì¦ ìƒíƒœ í™•ì¸

## í…ŒìŠ¤íŒ…
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì€ E2E í…ŒìŠ¤íŠ¸ ì‘ì„± (Playwright)
- í…ŒìŠ¤íŠ¸ íŒŒì¼ì€ `e2e/` í´ë”ì— ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¥˜í•˜ì—¬ ë°°ì¹˜
- íšŒì›ê°€ì…, ë¡œê·¸ì¸, ê³„ì‚°, AI íŒ í™•ì¸, êµ¬ë… í”Œë¡œìš°ëŠ” ë°˜ë“œì‹œ í…ŒìŠ¤íŠ¸ ì»¤ë²„

## ì„±ëŠ¥ ìµœì í™”
- í° ì»´í¬ë„ŒíŠ¸ëŠ” `React.lazy()`ë¡œ ì½”ë“œ ë¶„í• 
- ì´ë¯¸ì§€ëŠ” WebP ë“± ìµœì í™”ëœ í¬ë§· ì‚¬ìš©í•˜ê³ , Vercel Image Optimization í™œìš©
- ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€ë¥¼ ìœ„í•´ `useMemo`, `useCallback` ì ê·¹ í™œìš©

## êµ­ì œí™” (i18n)
- MVP ë‹¨ê³„ì—ì„œëŠ” í•œêµ­ì–´ë§Œ ì§€ì›. `app/locales/ko.ts` íŒŒì¼ì— ëª¨ë“  í…ìŠ¤íŠ¸ ì •ì˜
- í–¥í›„ í™•ì¥ì„ ìœ„í•´ `i18next` êµ¬ì¡°ëŠ” ìœ ì§€

## ì—ëŸ¬ ì²˜ë¦¬
- ì‚¬ìš©ì ì¹œí™”ì ì¸ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ (`FormError`, `FormSuccess` ì»´í¬ë„ŒíŠ¸ í™œìš©)
- Sentryë¥¼ í†µí•œ í”„ë¡œë•ì…˜ ì—ëŸ¬ ì¶”ì 
- ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ë°œìƒ ì‹œ, ì‚¬ìš©ìì—ê²Œ ì¬ì‹œë„ ì˜µì…˜ ì œê³µ

## ì ‘ê·¼ì„± (a11y)
- ì‹œë§¨í‹± HTML íƒœê·¸ ì‚¬ìš© (`<header>`, `<main>`, `<nav>` ë“±)
- ëª¨ë“  ì…ë ¥ í•„ë“œì— `<label>` ì—°ê²°
- í‚¤ë³´ë“œë§Œìœ¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„

## Git ê´€ë¦¬ ê·œì¹™ ë° ì›Œí¬í”Œë¡œìš°

### ë¸Œëœì¹˜ ì „ëµ
- **main**: í”„ë¡œë•ì…˜ ë°°í¬ ê°€ëŠ¥í•œ ì•ˆì •ì ì¸ ì½”ë“œ
- **feature/ê¸°ëŠ¥ëª…**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ (ì˜ˆ: `feature/ai-cost-tips`, `feature/payment-integration`)
- **fix/ì´ìŠˆëª…**: ë²„ê·¸ ìˆ˜ì • (ì˜ˆ: `fix/calculation-error`, `fix/mobile-ui`)
- **docs/ë¬¸ì„œëª…**: ë¬¸ì„œ ì—…ë°ì´íŠ¸ (ì˜ˆ: `docs/api-documentation`)

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ (Conventional Commits)
```
<type>(<scope>): <description>

[optional body]

ğŸš€ Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

**íƒ€ì… (Type):**
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ë³€ê²½
- `style`: ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ë“±)
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •
- `chore`: ë¹Œë“œ ê³¼ì • ë˜ëŠ” ë„êµ¬ ë³€ê²½

**ìŠ¤ì½”í”„ (Scope) ì˜ˆì‹œ:**
- `ai`: AI ê¸°ëŠ¥ ê´€ë ¨
- `calc`: ì›ê°€ê³„ì‚° ê´€ë ¨  
- `auth`: ì¸ì¦ ê´€ë ¨
- `payment`: ê²°ì œ ê´€ë ¨
- `ui`: UI/UX ê´€ë ¨
- `pwa`: PWA ê´€ë ¨

**ì˜ˆì‹œ ì»¤ë°‹ ë©”ì‹œì§€:**
```
feat(ai): AI ì›ê°€ì ˆê° íŒ ìƒì„± ê¸°ëŠ¥ ì¶”ê°€

- Vercel AI SDK í†µí•©
- GPT-4o-mini ëª¨ë¸ ì‚¬ìš©
- 24ì‹œê°„ ìºì‹± êµ¬í˜„
- ì‚¬ìš©ëŸ‰ ì œí•œ ì ìš©

ğŸš€ Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

### ê°œë°œ ì›Œí¬í”Œë¡œìš°
1. **ë¸Œëœì¹˜ ìƒì„±**: `git checkout -b feature/ê¸°ëŠ¥ëª…`
2. **ê°œë°œ ë° í…ŒìŠ¤íŠ¸**: ê¸°ëŠ¥ êµ¬í˜„ í›„ ë¡œì»¬ í…ŒìŠ¤íŠ¸
3. **í’ˆì§ˆ ê²€ì¦**: Validation Gates í†µê³¼ í™•ì¸
4. **ì»¤ë°‹**: ê·œì¹™ì— ë§ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±
5. **í‘¸ì‹œ**: `git push origin feature/ê¸°ëŠ¥ëª…`
6. **PR ìƒì„±**: GitHubì—ì„œ Pull Request ìƒì„±
7. **ì½”ë“œ ë¦¬ë·°**: í•„ìš”ì‹œ í”¼ë“œë°± ë°˜ì˜
8. **ë³‘í•©**: Squash and Mergeë¡œ mainì— ë³‘í•©

### ìë™ Git ê´€ë¦¬ ì‹œ ì ìš© ê·œì¹™
ì œê°€ Git ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ë‹¤ìŒ ê·œì¹™ì„ ìë™ìœ¼ë¡œ ì ìš©í•©ë‹ˆë‹¤:

1. **ì»¤ë°‹ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:
   - TypeScript ì»´íŒŒì¼ í™•ì¸
   - í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
   - console.log() ì œê±° í™•ì¸

2. **ì»¤ë°‹ ë©”ì‹œì§€ ìë™ ìƒì„±**:
   - Conventional Commits í˜•ì‹ ì¤€ìˆ˜
   - ì ì ˆí•œ íƒ€ì…ê³¼ ìŠ¤ì½”í”„ ìë™ ì„ íƒ
   - Claude Code ì„œëª… ìë™ ì¶”ê°€

3. **ë¸Œëœì¹˜ ê´€ë¦¬**:
   - ê¸°ëŠ¥ë³„ ì ì ˆí•œ ë¸Œëœì¹˜ëª… ìƒì„±
   - main ë¸Œëœì¹˜ ë³´í˜¸ (ì§ì ‘ ì»¤ë°‹ ê¸ˆì§€)

4. **PR ê´€ë¦¬**:
   - ìƒì„¸í•œ PR ì„¤ëª… ìë™ ìƒì„±
   - ì²´í¬ë¦¬ìŠ¤íŠ¸ í¬í•¨
   - ì ì ˆí•œ ë¼ë²¨ ì œì•ˆ

### Git í›… ì„¤ì • (ê¶Œì¥)
```bash
# pre-commit: ì»¤ë°‹ ì „ ê²€ì¦
npm run typecheck && npm run format

# pre-push: í‘¸ì‹œ ì „ í…ŒìŠ¤íŠ¸
npm run test:e2e
```

## Validation Gates (í’ˆì§ˆ ê²€ì¦ ê¸°ì¤€)
ê°œë°œ ì§„í–‰ ì‹œ ë‹¤ìŒ ë‹¨ê³„ë³„ ê²€ì¦ì„ ë°˜ë“œì‹œ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤:

### 1. ì½”ë“œ ì»¤ë°‹ ì „
- âœ… TypeScript ì»´íŒŒì¼ ì—ëŸ¬ ì—†ìŒ (`npm run typecheck`)
- âœ… ESLint ê²½ê³ /ì—ëŸ¬ ì—†ìŒ
- âœ… Prettier í¬ë§·íŒ… ì™„ë£Œ (`npm run format`)
- âœ… console.log() ì œê±° í™•ì¸

### 2. Pull Request ìƒì„± ì „
- âœ… ëª¨ë“  E2E í…ŒìŠ¤íŠ¸ í†µê³¼ (`npm run test:e2e`)
- âœ… ë¡œì»¬ ë¹Œë“œ ì„±ê³µ (`npm run build`)
- âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- âœ… AI ê¸°ëŠ¥ ì‹¤ì œ í…ŒìŠ¤íŠ¸ (API ì—°ë™ í™•ì¸)

### 3. í”„ë¡œë•ì…˜ ë°°í¬ ì „
- âœ… Lighthouse ì ìˆ˜ 90+ í™•ì¸
  - Performance: 90+
  - Accessibility: 90+
  - Best Practices: 90+
  - SEO: 90+
- âœ… PWA ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ
  - manifest.json ì„¤ì •
  - Service Worker ë™ì‘ í™•ì¸
  - ì˜¤í”„ë¼ì¸ ëª¨ë“œ í…ŒìŠ¤íŠ¸
- âœ… ë³´ì•ˆ ì²´í¬
  - í™˜ê²½ë³€ìˆ˜ í™•ì¸ (API í‚¤ ë…¸ì¶œ ì—†ìŒ)
  - RLS ì •ì±… ë™ì‘ í™•ì¸
  - HTTPS ê°•ì œ ì ìš©

## ê¸ˆì§€ì‚¬í•­
- `console.log()`ë¥¼ í”„ë¡œë•ì…˜ ì½”ë“œì— ì ˆëŒ€ ë‚¨ê¸°ì§€ ë§ ê²ƒ
- `.env` íŒŒì¼ì— API í‚¤ë‚˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì§ì ‘ í•˜ë“œì½”ë”©í•˜ì§€ ë§ê³ , Vercel í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©
- `any` íƒ€ì…ì€ ë¶ˆê°€í”¼í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³  ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
- ì¸ë¼ì¸ ìŠ¤íƒ€ì¼(`style={{}}`) ì‚¬ìš© ê¸ˆì§€. ëª¨ë“  ìŠ¤íƒ€ì¼ì€ `TailwindCSS` í´ë˜ìŠ¤ë¡œ ì²˜ë¦¬
